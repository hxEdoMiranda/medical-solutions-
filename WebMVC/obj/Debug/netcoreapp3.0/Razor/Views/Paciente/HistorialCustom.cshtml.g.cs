#pragma checksum "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "11e53e071108f038e69e7a930e64517a7b53458e"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Paciente_HistorialCustom), @"mvc.1.0.view", @"/Views/Paciente/HistorialCustom.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\_ViewImports.cshtml"
using WebMVC;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\_ViewImports.cshtml"
using WebMVC.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
using System.Globalization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
using WebMVC.Controllers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
using System.Security.Claims;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"11e53e071108f038e69e7a930e64517a7b53458e", @"/Views/Paciente/HistorialCustom.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d07e873f05b36c9d83cd6a184d4bfbe1720fee4b", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Paciente_HistorialCustom : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<WebMVC.Models.AtencionViewModel>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("rel", new global::Microsoft.AspNetCore.Html.HtmlString("stylesheet"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("type", new global::Microsoft.AspNetCore.Html.HtmlString("text/css"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/img/teledoc/icon-teledoc-min.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("alt", new global::Microsoft.AspNetCore.Html.HtmlString("Teledoc"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("runat", new global::Microsoft.AspNetCore.Html.HtmlString("server"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/img/isotipo.png"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("alt", new global::Microsoft.AspNetCore.Html.HtmlString("Isotipo"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 7 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
  
    ViewData["Title"] = "Exámenes";
    Layout = "_LayoutPaciente";

    var hiddenAchs = string.Empty;
    bool isAchs = false;
    

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
     if (ViewBag.HostURL.ToString().Contains("achs."))
    {
        hiddenAchs = "hidden";
        isAchs = true;
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
     

    var _layout = new LayoutController(Configuration);
    var host = Configuration["ServicesUrl"];
    var urlSmartcheck = Configuration["ServiceUrlSmartcheck"];
    var idCliente = ((ClaimsIdentity)User.Identity).GetSpecificClaim("primarysid");
    var configEmpresa = await _layout.GetConfigEmpresa(host, Convert.ToInt32(idCliente));
    var configEmpresaBtn = await _layout.GetEmpresaConfigById(host, Convert.ToInt32(idCliente));
    var CodigoTelefono = ViewBag.codigoTelefono;

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n<script type=\"text/javascript\">\r\n    (function () {\r\n        var puntajeSmart = \'");
#nullable restore
#line 31 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                       Write(ViewBag);

#line default
#line hidden
#nullable disable
            WriteLiteral(".\'\r\n        window.urlBase = urlBase;\r\n    })\r\n</script>\r\n\r\n");
#nullable restore
#line 36 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
 if (isAchs)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <style scoped>\r\n        .btn-atencion-accion {\r\n            display: none;\r\n        }\r\n    </style>\r\n");
#nullable restore
#line 43 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
            DefineSection("Styles", async() => {
                WriteLiteral("\r\n    ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("link", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "11e53e071108f038e69e7a930e64517a7b53458e8534", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                BeginAddHtmlAttributeValues(__tagHelperExecutionContext, "href", 2, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                AddHtmlAttributeValue("", 1284, "~/css/Medismart/smartcheck.css?rnd=", 1284, 35, true);
#nullable restore
#line 46 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
AddHtmlAttributeValue("", 1319, NumeroRandom.GetRandom(), 1319, 25, false);

#line default
#line hidden
#nullable disable
                EndAddHtmlAttributeValues(__tagHelperExecutionContext);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n");
            }
            );
            WriteLiteral("\r\n\r\n<!-- WOW -->\r\n\r\n<div class=\"wow wow__historial\">\r\n\r\n    <!-- Header Historial -->\r\n\r\n    <div class=\"wow__header\">\r\n\r\n        <div class=\"wow__title\">\r\n            \r\n");
#nullable restore
#line 60 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 if (idCliente == "627")
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <h2>Historial VETERINARIO</h2>\r\n");
#nullable restore
#line 63 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }
                else
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <h2>Historial MÉDICO</h2>\r\n");
#nullable restore
#line 67 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
            <div class=""tags-historial"">
                <div class=""tag tag-todos"">Todos</div>
                <div class=""tag tag-atencion"">Atención</div>
                <div class=""tag tag-examen"">Exámenes Preventivos</div>
                <div class=""tag tag-smartcheck"">Smartcheck</div>
                <div class=""tag tag-psalud"" ");
#nullable restore
#line 74 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                       Write(ViewBag.visiblePacienteCronico);

#line default
#line hidden
#nullable disable
            WriteLiteral(">Programa Salud</div>\r\n                <div class=\"tag tag-test\"  ");
#nullable restore
#line 75 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                      Write(ViewBag.visibleTestOcupacional);

#line default
#line hidden
#nullable disable
            WriteLiteral(">Test Ocupacional</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"wow__toolbar\">\r\n            <div class=\"buscador-historial\">\r\n\r\n");
            WriteLiteral("\r\n");
            WriteLiteral("\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"divMomentoWow\" hidden>\r\n        ");
#nullable restore
#line 102 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
   Write(Html.TextBoxFor(m => configEmpresaBtn.MomentoWow, new { id = "momentoWow", type = "text"}));

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    </div>\r\n    <!-- end:: Header Historial -->\r\n    <!-- Body Historial -->\r\n\r\n    <div class=\"wow__body\">\r\n        <!-- tarjeta Atencion -->\r\n        <div class=\"contenedor_atencion\">\r\n");
#nullable restore
#line 110 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.HistorialAtenciones != null && Model.HistorialAtenciones.ToList().Count > 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 112 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var historialAtencion in Model.HistorialAtenciones)
                {
                    DateTime fechaConvertida = DateTime.ParseExact(historialAtencion.FechaText, "dd/MM/yyyy", CultureInfo.InvariantCulture);
                    string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                    string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM 'de' yyyy", new CultureInfo("es-ES"));

                    DateTime horaConvertida = DateTime.ParseExact(historialAtencion.HoraDesdeText, "HH:mm", CultureInfo.InvariantCulture);
                    string horaExamen = horaConvertida.ToString("h:mm tt");

                    {
                        var cl = "";
                        var fecha = "";
                        var hora = "";
                        var uri = "../InformeAtencion/" + historialAtencion.Id;

                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 127 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.IsProgramaSalud == true && Convert.ToInt32(Configuration["idEnfermeraFormulario"]) == historialAtencion.IdEspecialidad)
                        {
                            uri = "../programaSalud/ConfirmacionInterconsulta?idAtencion=" + @historialAtencion.Id;
                        }
                        else if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                        {
                            uri = "#"; // "/Paciente/InformeTeledoc?idConsulta=" + historialAtencion.IdConsultaTeledoc+"&username="+historialAtencion.username;
                        }
                        else if (CodigoTelefono == "CL" && configEmpresaBtn.MomentoWow == true)
                        {
                            uri = "/ResumenAtencionCustom?idAtencion=" + historialAtencion.Id;
                        }
                        else
                        {
                            uri = "../InformeAtencion/" + @historialAtencion.Id;
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 144 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.FechaText.Replace("/", "-") == DateTime.Today.ToShortDateString())
                        {
                            cl = "success";
                            fecha = "Hoy";
                            hora = horaExamen;
                        }
                        else
                        {
                            cl = "primary";
                            fecha = fechaFormateada.ToString();
                            hora = horaExamen;
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div");
            BeginWriteAttribute("class", " class=\"", 6160, "\"", 6281, 2);
            WriteAttributeValue("", 6168, "wow__tarjeta", 6168, 12, true);
#nullable restore
#line 157 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue(" ", 6180, string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc)? "tarjeta--atencion":"tarjeta--teledoc", 6181, 100, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                            <div class=""tarjeta__header"">
                                <div class=""tarjeta__title"">
                                    Informe de Atención

                                </div>
                            </div>
                            <div class=""tarjeta__body"">
                                <div class=""tarjeta__fecha"">
                                    ");
#nullable restore
#line 166 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                               Write(fecha);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 166 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        Write(hora);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                </div>\r\n\r\n\r\n\r\n                                <div class=\"tarjeta__profesional\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 6864, "\"", 6875, 1);
#nullable restore
#line 172 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 6871, uri, 6871, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        <div class=\"data-atencion data-historial\">\r\n                                            ");
#nullable restore
#line 174 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                       Write(historialAtencion.NombreMedico);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            <small class=\"tarjeta__especialidad\">");
#nullable restore
#line 175 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                            Write(historialAtencion.Especialidad);

#line default
#line hidden
#nullable disable
            WriteLiteral("</small>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"tarjeta__seccion\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 7394, "\"", 7405, 1);
#nullable restore
#line 180 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 7401, uri, 7401, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Diagnóstico
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 185 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                                            {
                                                var archivo = Model.Archivo.FirstOrDefault(a => a.IdConsultaTeledoc == historialAtencion.IdConsultaTeledoc);

                                                if (archivo != null)
                                                {
                                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 191 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                               Write(archivo.diagnostico);

#line default
#line hidden
#nullable disable
#nullable restore
#line 191 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                        
                                                }
                                            }
                                            else
                                            {
                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 196 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                           Write(historialAtencion.PatologiasString);

#line default
#line hidden
#nullable disable
#nullable restore
#line 196 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                   
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n\r\n\r\n");
#nullable restore
#line 204 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                 if (Model.Archivo != null && Model.Archivo.ToList().Count > 0)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"tarjeta__seccion\">\r\n                                        <div class=\"tarjeta__titulo-seccion\">\r\n                                            Certificados\r\n                                        </div>\r\n");
#nullable restore
#line 210 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                          
                                            var recetaElectronica = false;
                                            var archivoMedikit = Model.Archivo.FirstOrDefault(x => x.nombreArchivo == "Medikit.pdf");
                                        

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <div class=\"tarjeta__seccion-content\">\r\n");
#nullable restore
#line 215 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if (Model.Archivo != null)
                                            {
                                                if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                                                {
                                                    var archivosDeHistorial = Model.Archivo.Where(a => a.IdConsultaTeledoc == historialAtencion.IdConsultaTeledoc);
                                                    foreach (var archivo in archivosDeHistorial)
                                                    {
                                                        var rutaDescargaArchivo = "";
                                                        if(archivo != null && archivo.Nombre != null)
                                                        {
                                                            if (archivo.Nombre.Contains("Informe"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getInformeAtencion?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else if (archivo.Nombre.Contains("Examen"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getExamenes?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else if (archivo.Nombre.Contains("Receta"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getReceta?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                                            }
                                                        }

                                                        if (archivo.url != null)
                                                        {
                                                            if (archivo.Estado != "E")
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n");
#nullable restore
#line 255 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                     if (recetaElectronica && archivo.Nombre == "Receta.pdf" && archivoMedikit != null)
                                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                        <div class=\"tipo-archivo\">\r\n                                                                            ");
#nullable restore
#line 258 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                       Write(archivoMedikit.nombreArchivo);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                        </div>\r\n                                                                        <button");
            BeginWriteAttribute("onclick", " onclick=\"", 13600, "\"", 13654, 4);
            WriteAttributeValue("", 13610, "window.open(\'", 13610, 13, true);
#nullable restore
#line 260 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 13623, archivoMedikit.url, 13623, 19, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 13642, "\',", 13642, 2, true);
            WriteAttributeValue(" ", 13644, "\'_blank\')", 13645, 10, true);
            EndWriteAttribute();
            WriteLiteral(" class=\"btn-archivo\">\r\n                                                                            <i class=\"fal fa-file-pdf\"></i>\r\n                                                                        </button>\r\n");
#nullable restore
#line 263 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                    }
                                                                    else
                                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                        <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 14197, "\"", 14224, 1);
#nullable restore
#line 266 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 14204, rutaDescargaArchivo, 14204, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                                            <i class=\"fal fa-file-pdf\"></i>\r\n                                                                            ");
#nullable restore
#line 268 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                       Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                        </a>\r\n");
#nullable restore
#line 270 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                </div>\r\n");
#nullable restore
#line 272 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }
                                                            else
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n                                                                    ");
#nullable restore
#line 276 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                </div>\r\n");
#nullable restore
#line 278 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }
                                                        }
                                                    }
                                                }

                                                else
                                                {
                                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 285 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                     foreach (var archivo in Model.Archivo.ToList().Where(file => file.IdEntidadAsociada == historialAtencion.Id))
                                                    {
                                                      
                                                        var rutaDescargaArchivo = "";
                                                        if (archivo.Nombre.Contains("Informe"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getInformeAtencion?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else if (archivo.Nombre.Contains("Examen"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getExamenes?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else if (archivo.Nombre.Contains("Receta"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getReceta?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                                        }
                                                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 305 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                         if (archivo.Estado != "E")
                                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                            <div class=\"tipo-archivo\">\r\n                                                                <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 17688, "\"", 17715, 1);
#nullable restore
#line 308 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 17695, rutaDescargaArchivo, 17695, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 308 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                                            </div>\r\n");
#nullable restore
#line 310 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                        }
                                                        else
                                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                            <div class=\"tipo-archivo\">\r\n                                                                ");
#nullable restore
#line 314 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                           Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                            </div>\r\n");
#nullable restore
#line 316 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 316 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                         
                                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 317 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                     

                                                }
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        </div>\r\n                                    </div>\r\n");
#nullable restore
#line 324 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <!-- Agregar el botón de Medismart o Teledoc -->\r\n");
#nullable restore
#line 326 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                 if (!string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"button-with-image\">\r\n\r\n                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "11e53e071108f038e69e7a930e64517a7b53458e37378", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(" Atención por Teledoc\r\n\r\n\r\n                                    </div>\r\n");
#nullable restore
#line 334 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"button-with-image\">\r\n                                        <a href=\"#\" class=\"btn btn-bold btn-sm medismart-btn\">Medismart</a>\r\n                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "11e53e071108f038e69e7a930e64517a7b53458e39169", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                    </div>\r\n");
#nullable restore
#line 341 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 346 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 347 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n");
            WriteLiteral("        <div class=\"contenedor_examen\">\r\n            <!-- tarjeta Examenes -->\r\n");
#nullable restore
#line 353 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.ArchivoExamenPreventivo != null && Model.ArchivoExamenPreventivo.ToList().Count > 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 355 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var historialExamenPreventivo in Model.ExamenesPreventivos)
                {
                    DateTime fechaConvertida = historialExamenPreventivo.FechaSolicitud;
                    string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                    string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM", new CultureInfo("es-ES"));


#line default
#line hidden
#nullable disable
            WriteLiteral(@"                    <div class=""wow__tarjeta tarjeta--examenes"">
                        <div class=""tarjeta__header"">
                            <div class=""tarjeta__title"">
                                Exámenes Preventivos
                                <div class=""tarjeta__icono"">
                                    <img");
            BeginWriteAttribute("src", " src=\"", 20676, "\"", 20682, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 20683, "\"", 20689, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tarjeta__body\">\r\n                            <div class=\"tarjeta__fecha\">\r\n                                ");
#nullable restore
#line 372 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                           Write(fechaFormateada);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 372 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                              Write(historialExamenPreventivo.FechaSolicitud.ToString("t"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </div>

                            <div class=""tarjeta__seccion"">
                                <div class=""tarjeta__titulo-seccion"">
                                    Certificados
                                </div>
                                <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 380 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                     foreach (var archivo in Model.ArchivoExamenPreventivo.ToList().Where(file => file.IdEntidadAsociada == historialExamenPreventivo.Id))
                                    {
                                        var rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;

                                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 384 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                         if (archivo.Estado != "E")
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <div class=\"tipo-archivo tag-examen-prev\">\r\n                                                <a class=\"tag-descarga \" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 22013, "\"", 22040, 1);
#nullable restore
#line 387 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 22020, rutaDescargaArchivo, 22020, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 387 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                            </div>\r\n");
#nullable restore
#line 389 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <div class=\"tipo-archivo tag-examen-prev\">\r\n                                                ");
#nullable restore
#line 393 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                           Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            </div>\r\n");
#nullable restore
#line 395 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 395 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                         
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n");
#nullable restore
#line 402 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 402 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 

            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div id=\"examenes-list-tab\" class=\"tab-list__check_examen\">\r\n                    <h3 class=\"tab-content__title\"></h3>\r\n                </div>\r\n                <h5>No tienes registrados exámenes preventivos.</h5>\r\n");
#nullable restore
#line 411 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n        <!-- end:: tarjeta Examenes -->\r\n\r\n        <div class=\"contenedor_smartcheck\">\r\n            <!-- tarjeta Smartcheck -->\r\n");
#nullable restore
#line 417 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (ViewBag.historialCustomSmartcheck != null)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 419 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var smartcheck in  ViewBag.historialCustomSmartcheck)
                {
                    var puntajeSalud1 = Convert.ToDouble(smartcheck["detail"]["health_score"]);
                    var puntajeSalud = (Math.Truncate(puntajeSalud1 * 100) / 100);
                    var fechaCheck = smartcheck["header"]["measurement_datetime"];

                    var fecha = fechaCheck.ToString("M");
                    var colorSmart = "";
                    var hora = fechaCheck.ToString("t");
                    var measurementID = (smartcheck["detail"]["identifier"]).ToString();
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 429 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                           
                    
                    if (puntajeSalud >= 0 && puntajeSalud <= 16.65)
                    {
                        colorSmart = "rgba(225,82,65,1)";
                    }
                    else if (puntajeSalud >= 16.67 && puntajeSalud <= 33.3)
                    {
                        colorSmart = "rgba(226,148,143,1)";
                    }
                    else if (puntajeSalud >= 33.4 && puntajeSalud <= 66.6)
                    {
                        colorSmart = "rgba(249,236,161,1)";
                    }
                    else if (puntajeSalud >= 66.7 && puntajeSalud <= 83.35)
                    {
                        colorSmart = "rgba(55,180,93,1)";
                    }
                    else if (puntajeSalud >= 83.36 && puntajeSalud <= 100)
                    {
                        colorSmart = "rgba(36,115,60,1)";
                    }
                    var puntajeSalud2 = puntajeSalud.ToString("0.#");
                    var smartcheckIndex = ViewBag.historialCustomSmartcheck.IndexOf(smartcheck); // obtener el índice


#line default
#line hidden
#nullable disable
            WriteLiteral("                    <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 25089, "\"", 25123, 2);
            WriteAttributeValue("", 25094, "calculoSmart-", 25094, 13, true);
#nullable restore
#line 454 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 25107, smartcheckIndex, 25107, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=", 25124, "", 25144, 1);
#nullable restore
#line 454 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 25131, puntajeSalud, 25131, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <div class=\"wow__tarjeta tarjeta--smartcheck\">\r\n                        <a class=\"link-smartcheck\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\'", 25281, "\'", 25353, 1);
#nullable restore
#line 456 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 25288, string.Format(urlSmartcheck+"/smart_results/{0}", measurementID), 25288, 65, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@"></a>
                        <div class=""tarjeta__header"">
                            <div class=""tarjeta__title"">
                                Smartcheck
                                <div class=""tarjeta__icono"">
                                    <img");
            BeginWriteAttribute("src", " src=\"", 25620, "\"", 25626, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 25627, "\"", 25633, 0);
            EndWriteAttribute();
            WriteLiteral(@">                                    
                                </div>
                            </div>
                        </div>
                        <div class=""tarjeta__body"">
                            <div class=""tarjeta__fecha"">
                                ");
#nullable restore
#line 467 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                           Write(fecha);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 467 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                    Write(hora);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </div>
                            <div class=""tarjeta__seccion"">
                                <div class=""tarjeta__seccion-content"">
                                    <div class=""wow__puntaje-smartcheck"">

                                        <div class=""label-smartcheck"">Indicador general de salud</div>
                                        <div class=""valor-puntaje-smartcheck"">");
#nullable restore
#line 474 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                         Write(puntajeSalud2);

#line default
#line hidden
#nullable disable
            WriteLiteral(" / 100</div>\r\n                                        <div class=\"grafico-smartcheck\">\r\n                                            <div class=\"form-group\">\r\n                                                <span");
            BeginWriteAttribute("id", " id=\"", 26592, "\"", 26634, 2);
            WriteAttributeValue("", 26597, "puntoSmartcheckTodos-", 26597, 21, true);
#nullable restore
#line 477 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 26618, smartcheckIndex, 26618, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" class=""punto-smartcheck"">
                                                    <img class=""wow__imagen-puntaje"" src=""/img/wow/arrow-down-smartcheck.svg"">
                                                </span>
                                                <div class=""divIndicador"">
                                                    &nbsp;
                                                </div>
                                                <span class=""divCero"">0</span><span class=""divCien"">100</span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
");
#nullable restore
#line 493 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 493 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                <div id=""examenes-list-tab"" class=""tab-list__check_examen"">
                    <h3 class=""tab-content__title""></h3>
                </div>
                <h5>Aún tienes registradas pruebas de Smartcheck, no olvides realizarlas para tu próxima atención.</h5>
");
#nullable restore
#line 501 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("            <!-- end:: tarjeta Smartcheck -->\r\n\r\n        </div>\r\n\r\n        <div class=\"contenedor_programaSalud\">\r\n            <!-- tarjeta Programa Salud -->\r\n");
#nullable restore
#line 508 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.HistorialAtenciones != null && Model.HistorialAtenciones.ToList().Count > 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 510 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var historialAtencion in Model.HistorialAtenciones.Where(x => x.IsProgramaSalud == true))
                {
                    Console.WriteLine($"IsProgramaSalud: {historialAtencion.IsProgramaSalud}, IdPaciente: {historialAtencion.IdPaciente}");
                    DateTime fechaConvertida = DateTime.ParseExact(historialAtencion.FechaText, "dd/MM/yyyy", CultureInfo.InvariantCulture);
                    string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                    string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM 'de' yyyy", new CultureInfo("es-ES"));

                    DateTime horaConvertida = DateTime.ParseExact(historialAtencion.HoraDesdeText, "HH:mm", CultureInfo.InvariantCulture);
                    string horaExamen = horaConvertida.ToString("h:mm tt");

                    {
                        var cl = "";
                        var fecha = "";
                        var hora = "";
                        var uri = "../InformeAtencion/" + historialAtencion.Id;

                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 526 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.IsProgramaSalud == true && Convert.ToInt32(Configuration["idEnfermeraFormulario"]) == historialAtencion.IdEspecialidad)
                        {
                            uri = "../programaSalud/ConfirmacionInterconsulta?idAtencion=" + @historialAtencion.Id;
                        }
                        else if (CodigoTelefono == "CL" && configEmpresaBtn.MomentoWow == true)
                        {
                            uri = "/ResumenAtencionCustom?idAtencion=" + historialAtencion.Id;
                        }
                        else
                        {
                            uri = "../InformeAtencion/" + @historialAtencion.Id;
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 538 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.FechaText.Replace("/", "-") == DateTime.Today.ToShortDateString())
                        {
                            cl = "success";
                            fecha = "Hoy";
                            hora = horaExamen;
                        }
                        else
                        {
                            cl = "primary";
                            fecha = fechaFormateada.ToString();
                            hora = horaExamen;
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        <div class=""wow__tarjeta tarjeta--atencion"">
                            <div class=""tarjeta__header"">
                                <div class=""tarjeta__title"">
                                    Informe de Atención Paciente Cronico
                                    <div class=""tarjeta__icono"">
                                        <img");
            BeginWriteAttribute("src", " src=\"", 30840, "\"", 30846, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 30847, "\"", 30853, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                                    </div>
                                </div>
                            </div>
                            <div class=""tarjeta__body"">
                                <div class=""tarjeta__fecha"">
                                    <i class=""fal fa-calendar""></i>
                                    ");
#nullable restore
#line 563 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                               Write(fecha);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 563 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        Write(hora);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                </div>\r\n                                <div class=\"tarjeta__profesional\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 31363, "\"", 31374, 1);
#nullable restore
#line 566 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 31370, uri, 31370, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        <div class=\"data-atencion data-historial\">\r\n                                            ");
#nullable restore
#line 568 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                       Write(historialAtencion.NombreMedico);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            <small class=\"tarjeta__especialidad\">");
#nullable restore
#line 569 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                            Write(historialAtencion.Especialidad);

#line default
#line hidden
#nullable disable
            WriteLiteral("</small>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"tarjeta__seccion\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 31893, "\"", 31904, 1);
#nullable restore
#line 574 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 31900, uri, 31900, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Diagnóstico
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
                                            ");
#nullable restore
#line 579 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                       Write(historialAtencion.PatologiasString);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n");
#nullable restore
#line 583 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                 if (Model.Archivo != null && Model.Archivo.ToList().Count > 0)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                    <div class=""tarjeta__seccion"">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Certificados
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 590 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             foreach (var archivo in Model.Archivo.ToList().Where(file => file.IdEntidadAsociada == historialAtencion.Id))
                                            {
                                                var rutaDescargaArchivo = "";
                                                if (archivo.Nombre.Contains("Informe"))
                                                {
                                                    rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getInformeAtencion?idAtencion=" + historialAtencion.Id;
                                                }
                                                else if (archivo.Nombre.Contains("Examen"))
                                                {
                                                    rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getExamenes?idAtencion=" + historialAtencion.Id;
                                                }
                                                else if (archivo.Nombre.Contains("Receta"))
                                                {
                                                    rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getReceta?idAtencion=" + historialAtencion.Id;
                                                }
                                                else
                                                {
                                                    rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                                }
                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 609 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                 if (archivo.Estado != "E")
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <div class=\"tipo-archivo\">\r\n                                                        <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 34869, "\"", 34896, 1);
#nullable restore
#line 612 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 34876, rutaDescargaArchivo, 34876, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 612 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                       Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                                    </div>\r\n");
#nullable restore
#line 614 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <div class=\"tipo-archivo\">\r\n                                                        ");
#nullable restore
#line 618 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                   Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                    </div>\r\n");
#nullable restore
#line 620 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 620 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                 
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </div>\r\n                                    </div>\r\n");
#nullable restore
#line 624 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 627 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 628 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div id=\"examenes-list-tab\" class=\"tab-list__check_examen\">\r\n                    <h3 class=\"tab-content__title\"></h3>\r\n                </div>\r\n                <h5>No tienes atenciones registradas.</h5>\r\n");
#nullable restore
#line 636 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("             <!-- end:: tarjeta Programa Salud -->\r\n        </div>\r\n       \r\n       \r\n        <div class=\"contenedor_test\" ");
#nullable restore
#line 641 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                Write(ViewBag.visibleTestOcupacional);

#line default
#line hidden
#nullable disable
            WriteLiteral(">\r\n");
#nullable restore
#line 642 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.TestOcupacionalResult != null && Model.TestOcupacionalResult.ToList().Count > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"tarjeta__seccion\">\r\n                    <div class=\"tarjeta__titulo-seccion\">\r\n                        Test Ocupacional\r\n                    </div>\r\n                    <div class=\"tarjeta__seccion-content\">\r\n");
#nullable restore
#line 649 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         foreach (var archivo in Model.TestOcupacionalResult.ToList())
                        {
                            DateTime fechaConvertida = archivo.Fecha;
                            string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                            string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM", new CultureInfo("es-ES"));

                            var rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;


#line default
#line hidden
#nullable disable
            WriteLiteral(@"                            <div class=""wow__tarjeta tarjeta--examenes"">
                                <div class=""tarjeta__header"">
                                    <div class=""tarjeta__title"">
                                        TEST OCUPACIONALES
                                        <div class=""tarjeta__icono"">
                                            <img");
            BeginWriteAttribute("src", " src=\"", 37461, "\"", 37467, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 37468, "\"", 37474, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                                        </div>
                                    </div>
                                </div>
                                <div class=""tarjeta__body"">
                                    <div class=""tarjeta__fecha"">
                                        <i class=""fal fa-calendar""></i>
                                        ");
#nullable restore
#line 669 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                   Write(fechaFormateada);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 669 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                      Write(archivo.Fecha.ToString("t"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                    </div>

                                    <div class=""tarjeta__seccion"">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Certificados
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 677 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if (archivo.Estado != "E")
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <div class=\"tipo-archivo\">\r\n                                                    <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 38565, "\"", 38592, 1);
#nullable restore
#line 680 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 38572, rutaDescargaArchivo, 38572, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 680 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                   Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                                </div>\r\n");
#nullable restore
#line 682 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <div class=\"tipo-archivo\">\r\n                                                    ");
#nullable restore
#line 686 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                </div>\r\n");
#nullable restore
#line 688 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n");
#nullable restore
#line 693 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </div>\r\n                </div>\r\n");
#nullable restore
#line 696 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }
            else
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div id=\"examenes-list-tab\" class=\"tab-list__check_examen\">\r\n                    <h3 class=\"tab-content__title\"></h3>\r\n                </div>\r\n                <h5>No tienes registrados exámenes medicos.</h5>\r\n");
#nullable restore
#line 703 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("        </div>\r\n        <div class=\"contenedor-todos\">\r\n\r\n");
#nullable restore
#line 707 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.HistorialAtenciones != null && Model.HistorialAtenciones.ToList().Count > 0)
            {
                //var historialFiltrado = Model.HistorialAtenciones.Where(historialAtencion =>
                //DateTime.ParseExact(historialAtencion.FechaText, "dd/MM/yyyy", CultureInfo.InvariantCulture) > DateTime.Now.AddMonths(-6))
                //.OrderBy(historialAtencion => DateTime.ParseExact(historialAtencion.FechaText, "dd/MM/yyyy", CultureInfo.InvariantCulture));

                

#line default
#line hidden
#nullable disable
#nullable restore
#line 713 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var historialAtencion in Model.HistorialAtenciones.OrderByDescending(h => h.Id))
                {
                    DateTime fechaConvertida = DateTime.ParseExact(historialAtencion.FechaText, "dd/MM/yyyy", CultureInfo.InvariantCulture);
                    string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                    string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM 'de' yyyy", new CultureInfo("es-ES"));

                    DateTime horaConvertida = DateTime.ParseExact(historialAtencion.HoraDesdeText, "HH:mm", CultureInfo.InvariantCulture);
                    string horaExamen = horaConvertida.ToString("h:mm tt");


                    {
                        var cl = "";
                        var fecha = "";
                        var hora = "";
                        var uri = "../InformeAtencion/" + historialAtencion.Id;

                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 729 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.IsProgramaSalud == true && Convert.ToInt32(Configuration["idEnfermeraFormulario"]) == historialAtencion.IdEspecialidad)
                        {
                            uri = "../programaSalud/ConfirmacionInterconsulta?idAtencion=" + @historialAtencion.Id;
                        }
                        else  if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                        {
                            uri = uri = "#"; //"/Paciente/InformeTeledoc?idConsulta=" + historialAtencion.IdConsultaTeledoc+"&username="+historialAtencion.username;
                        }
                        else if (CodigoTelefono == "CL" && configEmpresaBtn.MomentoWow == true)
                        {
                            uri = "/ResumenAtencionCustom?idAtencion=" + historialAtencion.Id;
                        }
                        else
                        {
                            uri = "../InformeAtencion/" + @historialAtencion.Id;
                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 746 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         if (historialAtencion.FechaText.Replace("/", "-") == DateTime.Today.ToShortDateString())
                        {
                            cl = "success";
                            fecha = "Hoy";
                            hora = horaExamen;
                        }
                        else
                        {
                            cl = "primary";
                            fecha = fechaFormateada.ToString();
                            hora = horaExamen;
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div");
            BeginWriteAttribute("class", " class=\"", 42780, "\"", 42901, 2);
            WriteAttributeValue("", 42788, "wow__tarjeta", 42788, 12, true);
#nullable restore
#line 759 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue(" ", 42800, string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc)? "tarjeta--atencion":"tarjeta--teledoc", 42801, 100, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                            <div class=""tarjeta__header"">
                                <div class=""tarjeta__title"">
                                    Informe de Atención
                                    <div class=""tarjeta__icono"">
                                        <img");
            BeginWriteAttribute("src", " src=\"", 43193, "\"", 43199, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 43200, "\"", 43206, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                                    </div>
                                </div>
                            </div>
                            <div class=""tarjeta__body"">
                                <div class=""tarjeta__fecha"">

                                    ");
#nullable restore
#line 771 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                               Write(fecha);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 771 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        Write(hora);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                </div>\r\n                                <div class=\"tarjeta__profesional\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 43649, "\"", 43660, 1);
#nullable restore
#line 774 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 43656, uri, 43656, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        <div class=\"data-atencion data-historial\">\r\n                                            ");
#nullable restore
#line 776 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                       Write(historialAtencion.NombreMedico);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            <small class=\"tarjeta__especialidad\">");
#nullable restore
#line 777 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                            Write(historialAtencion.Especialidad);

#line default
#line hidden
#nullable disable
            WriteLiteral("</small>\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"tarjeta__seccion\">\r\n                                    <a");
            BeginWriteAttribute("href", " href=\"", 44179, "\"", 44190, 1);
#nullable restore
#line 782 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 44186, uri, 44186, 4, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Diagnóstico
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 787 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                                            {
                                                var archivo = Model.Archivo.FirstOrDefault(a => a.IdConsultaTeledoc == historialAtencion.IdConsultaTeledoc);

                                                if (archivo != null)
                                                {
                                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 793 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                               Write(archivo.diagnostico);

#line default
#line hidden
#nullable disable
#nullable restore
#line 793 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                        
                                                }
                                            }
                                            else
                                            {
                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 798 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                           Write(historialAtencion.PatologiasString);

#line default
#line hidden
#nullable disable
#nullable restore
#line 798 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                   
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        </div>\r\n                                    </a>\r\n                                </div>\r\n");
#nullable restore
#line 804 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                 if (Model.Archivo != null && Model.Archivo.ToList().Count > 0)
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"tarjeta__seccion\">\r\n                                        <div class=\"tarjeta__titulo-seccion\">\r\n                                            Certificados\r\n                                        </div>\r\n");
#nullable restore
#line 810 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                          
                                            var recetaElectronica = false;
                                            var archivoMedikit = Model.Archivo.FirstOrDefault(x => x.nombreArchivo == "Medikit.pdf");
                                        

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <div class=\"tarjeta__seccion-content\">\r\n");
#nullable restore
#line 815 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if (Model.Archivo != null)
                                            {
                                                if ((!(string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))))
                                                {
                                                    var archivosDeHistorial = Model.Archivo.Where(a => a.IdConsultaTeledoc == historialAtencion.IdConsultaTeledoc);
                                                    foreach (var archivo in archivosDeHistorial)
                                                    {
                                                        var rutaDescargaArchivo = "";
                                                        if (archivo != null && archivo.Nombre != null)
                                                        {
                                                            if (archivo.Nombre.Contains("Informe"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getInformeAtencion?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else if (archivo.Nombre.Contains("Examen"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getExamenes?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else if (archivo.Nombre.Contains("Receta"))
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getReceta?idAtencion=" + historialAtencion.Id;
                                                            }
                                                            else
                                                            {
                                                                rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                                            }
                                                        }

                                                        if (archivo.url != null)
                                                        {
                                                            if (archivo.Estado != "E")
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n");
#nullable restore
#line 848 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                     if (archivo.Estado == null)
                                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                        <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 49405, "\"", 49424, 1);
#nullable restore
#line 850 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 49412, archivo.url, 49412, 12, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                                            <i class=\"fal fa-file-pdf\"></i>\r\n                                                                            ");
#nullable restore
#line 852 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                       Write(archivo.nombreArchivo);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                        </a>\r\n");
#nullable restore
#line 854 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                    }
                                                                    else
                                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                        <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 50042, "\"", 50069, 1);
#nullable restore
#line 857 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 50049, rutaDescargaArchivo, 50049, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                                            <i class=\"fal fa-file-pdf\"></i>\r\n                                                                            ");
#nullable restore
#line 859 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                       Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                        </a>\r\n");
#nullable restore
#line 861 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                </div>\r\n");
#nullable restore
#line 863 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }
                                                            else
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n                                                                    ");
#nullable restore
#line 867 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                </div>\r\n");
#nullable restore
#line 869 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }
                                                        }
                                                    }
                                                }
                                                else
                                                {
                                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 875 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                     foreach (var archivo in Model.Archivo.ToList().Where(file => file.IdEntidadAsociada == historialAtencion.Id))
                                                    {
                                                        var rutaDescargaArchivo = "";
                                                        if (archivo.Nombre.Contains("Informe"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getInformeAtencion?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else if (archivo.Nombre.Contains("Examen"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getExamenes?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else if (archivo.Nombre.Contains("Receta"))
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/reportes/reportes/getReceta?idAtencion=" + historialAtencion.Id;
                                                        }
                                                        else
                                                        {
                                                            rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                                        }
                                                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 894 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                         if (!(archivo.Nombre.Contains("Receta") && (archivoMedikit != null && archivoMedikit.statusMedikit == "Correcto")))
                                                        {
                                                            

#line default
#line hidden
#nullable disable
#nullable restore
#line 896 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                             if (archivo.Estado != "E")
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n                                                                    <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 53724, "\"", 53751, 1);
#nullable restore
#line 899 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 53731, rutaDescargaArchivo, 53731, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                                        <i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 900 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                   Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                    </a>\r\n                                                                </div>\r\n");
#nullable restore
#line 903 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }
                                                            else
                                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                                <div class=\"tipo-archivo\">\r\n                                                                    ");
#nullable restore
#line 907 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                                </div>\r\n");
#nullable restore
#line 909 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 909 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                             
                                                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 910 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                         
                                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 912 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                     if (archivoMedikit != null && archivoMedikit.url != null)
                                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <div class=\"tipo-archivo\">\r\n                                                            <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 54990, "\"", 55016, 1);
#nullable restore
#line 915 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 54997, archivoMedikit.url, 54997, 19, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                                <i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 916 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                           Write(archivoMedikit.nombreArchivo);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                            </a>\r\n                                                        </div>\r\n");
#nullable restore
#line 919 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 919 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                     
                                                    
                                                }                                              
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                        </div>\r\n                                    </div>\r\n");
#nullable restore
#line 926 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <!-- Agregar el botón de Medismart o Teledoc -->\r\n");
#nullable restore
#line 928 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                 if (!string.IsNullOrEmpty(historialAtencion.IdConsultaTeledoc))
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div class=\"btn-teledoc\">\r\n                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "11e53e071108f038e69e7a930e64517a7b53458e104384", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(" Atención por Teledoc\r\n                                    </div>\r\n");
#nullable restore
#line 933 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <div");
            BeginWriteAttribute("class", " class=\"", 56267, "\"", 56275, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                        <a href=\"#\" class=\"btn btn-bold btn-sm medismart-btn\">Medismart</a>\r\n                                        ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagOnly, "11e53e071108f038e69e7a930e64517a7b53458e106284", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n                                    </div>\r\n");
#nullable restore
#line 940 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </div>\r\n                        </div>\r\n");
#nullable restore
#line 943 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 944 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 947 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.ArchivoExamenPreventivo != null && Model.ArchivoExamenPreventivo.ToList().Count > 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 949 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var historialExamenPreventivo in Model.ExamenesPreventivos)
                {
                    DateTime fechaConvertida = historialExamenPreventivo.FechaSolicitud;
                    string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                    string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM", new CultureInfo("es-ES"));


#line default
#line hidden
#nullable disable
            WriteLiteral(@"                    <div class=""wow__tarjeta tarjeta--examenes"">
                        <div class=""tarjeta__header"">
                            <div class=""tarjeta__title"">
                                Exámenes Preventivos
                                <div class=""tarjeta__icono"">
                                    <img");
            BeginWriteAttribute("src", " src=\"", 57565, "\"", 57571, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 57572, "\"", 57578, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tarjeta__body\">\r\n                            <div class=\"tarjeta__fecha\">\r\n                                ");
#nullable restore
#line 966 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                           Write(fechaFormateada);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 966 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                              Write(historialExamenPreventivo.FechaSolicitud.ToString("t"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </div>

                            <div class=""tarjeta__seccion"">
                                <div class=""tarjeta__titulo-seccion"">
                                    Certificados
                                </div>
                                <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 974 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                     foreach (var archivo in Model.ArchivoExamenPreventivo.ToList().Where(file => file.IdEntidadAsociada == historialExamenPreventivo.Id))
                                    {
                                        var rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;
                                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 977 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                         if (archivo.Estado != "E")
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <div class=\"tipo-archivo tag-examen-prev\">\r\n                                                <a class=\"tag-descarga \" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 58900, "\"", 58927, 1);
#nullable restore
#line 980 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 58907, rutaDescargaArchivo, 58907, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 980 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                            </div>\r\n");
#nullable restore
#line 982 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <div class=\"tipo-archivo tag-examen-prev\">\r\n                                                ");
#nullable restore
#line 986 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                           Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                            </div>\r\n");
#nullable restore
#line 988 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 988 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                         
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n");
#nullable restore
#line 995 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 995 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 


            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 999 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (ViewBag.historialCustomSmartcheck != null)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 1001 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 foreach (var smartcheck in ViewBag.historialCustomSmartcheck)
                {
                    var puntajeSalud1 = Convert.ToDouble(smartcheck["detail"]["health_score"]);
                    var puntajeSalud = (Math.Truncate(puntajeSalud1 * 100) / 100);
                    var fechaCheck = smartcheck["header"]["measurement_datetime"];
                    var fecha = fechaCheck.ToString("M");
                    var colorSmart = "";
                    var hora = fechaCheck.ToString("t");
                    var measurementID = (smartcheck["detail"]["identifier"]).ToString();
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 1010 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                        

                    if (puntajeSalud >= 0 && puntajeSalud <= 16.65)
                    {
                        colorSmart = "rgba(225,82,65,1)";
                    }
                    else if (puntajeSalud >= 16.67 && puntajeSalud <= 33.3)
                    {
                        colorSmart = "rgba(226,148,143,1)";
                    }
                    else if (puntajeSalud >= 33.4 && puntajeSalud <= 66.6)
                    {
                        colorSmart = "rgba(249,236,161,1)";
                    }
                    else if (puntajeSalud >= 66.7 && puntajeSalud <= 83.35)
                    {
                        colorSmart = "rgba(55,180,93,1)";
                    }
                    else if (puntajeSalud >= 83.36 && puntajeSalud <= 100)
                    {
                        colorSmart = "rgba(36,115,60,1)";
                    }
                    var puntajeSalud2 = puntajeSalud.ToString("0.#");
                    var smartcheckIndex = ViewBag.historialCustomSmartcheck.IndexOf(smartcheck); // obtener el índice


#line default
#line hidden
#nullable disable
            WriteLiteral("                    <input type=\"hidden\"");
            BeginWriteAttribute("id", " id=\"", 61530, "\"", 61564, 2);
            WriteAttributeValue("", 61535, "calculoSmart-", 61535, 13, true);
#nullable restore
#line 1035 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 61548, smartcheckIndex, 61548, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("value", " value=", 61565, "", 61585, 1);
#nullable restore
#line 1035 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 61572, puntajeSalud, 61572, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                    <div class=\"wow__tarjeta tarjeta--smartcheck\">\r\n                        <a class=\"link-smartcheck\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\'", 61722, "\'", 61794, 1);
#nullable restore
#line 1037 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 61729, string.Format(urlSmartcheck+"/smart_results/{0}", measurementID), 61729, 65, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@"></a>
                        <div class=""tarjeta__header"">
                            <div class=""tarjeta__title"">
                                Smartcheck
                                <div class=""tarjeta__icono"">
                                    <img");
            BeginWriteAttribute("src", " src=\"", 62061, "\"", 62067, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 62068, "\"", 62074, 0);
            EndWriteAttribute();
            WriteLiteral(">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tarjeta__body\">\r\n                            <div class=\"tarjeta__fecha\">\r\n                                ");
#nullable restore
#line 1048 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                           Write(fecha);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 1048 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                    Write(hora);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                            </div>
                            <div class=""tarjeta__seccion"">
                                <div class=""tarjeta__seccion-content"">
                                    <div class=""wow__puntaje-smartcheck"">

                                        <div class=""label-smartcheck"">Indicador general de salud</div>
                                        <div class=""valor-puntaje-smartcheck"">");
#nullable restore
#line 1055 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                         Write(puntajeSalud2);

#line default
#line hidden
#nullable disable
            WriteLiteral(" / 100</div>\r\n                                        <div class=\"grafico-smartcheck\">\r\n                                            <div class=\"form-group\">\r\n                                                <span");
            BeginWriteAttribute("id", " id=\"", 62997, "\"", 63039, 2);
            WriteAttributeValue("", 63002, "puntoSmartcheckTodos-", 63002, 21, true);
#nullable restore
#line 1058 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 63023, smartcheckIndex, 63023, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" class=""punto-smartcheck"">
                                                    <img class=""wow__imagen-puntaje"" src=""/img/wow/arrow-down-smartcheck.svg"">
                                                </span>
                                                <div class=""divIndicador"">
                                                    &nbsp;
                                                </div>
                                                <span class=""divCero"">0</span><span class=""divCien"">100</span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
");
#nullable restore
#line 1074 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 1074 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                 
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 1076 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
             if (Model.TestOcupacionalResult != null && Model.TestOcupacionalResult.ToList().Count > 0)
            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                <div class=\"tarjeta__seccion\" ");
#nullable restore
#line 1078 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                         Write(ViewBag.visibleTestOcupacional);

#line default
#line hidden
#nullable disable
            WriteLiteral(">\r\n                    <div class=\"tarjeta__titulo-seccion\">\r\n                        Test Ocupacional\r\n                    </div>\r\n                    <div class=\"tarjeta__seccion-content\">\r\n");
#nullable restore
#line 1083 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                         foreach (var archivo in Model.TestOcupacionalResult.ToList())
                        {
                            DateTime fechaConvertida = archivo.Fecha;
                            string mesNombre = fechaConvertida.ToString("MMMM", new CultureInfo("es-ES"));
                            string fechaFormateada = fechaConvertida.ToString("dd 'de' MMMM", new CultureInfo("es-ES"));

                            var rutaDescargaArchivo = Configuration["ServicesUrl"] + "/agendamientos/archivo/DescargarArchivo?id=" + archivo.idenc;


#line default
#line hidden
#nullable disable
            WriteLiteral(@"                            <div class=""wow__tarjeta tarjeta--examenes"">
                                <div class=""tarjeta__header"">
                                    <div class=""tarjeta__title"">
                                        TEST OCUPACIONALES
                                        <div class=""tarjeta__icono"">
                                            <img");
            BeginWriteAttribute("src", " src=\"", 65214, "\"", 65220, 0);
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=\"", 65221, "\"", 65227, 0);
            EndWriteAttribute();
            WriteLiteral(@">
                                        </div>
                                    </div>
                                </div>
                                <div class=""tarjeta__body"">
                                    <div class=""tarjeta__fecha"">
                                        <i class=""fal fa-calendar""></i>
                                        ");
#nullable restore
#line 1103 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                   Write(fechaFormateada);

#line default
#line hidden
#nullable disable
            WriteLiteral(" | ");
#nullable restore
#line 1103 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                      Write(archivo.Fecha.ToString("t"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
                                    </div>

                                    <div class=""tarjeta__seccion"">
                                        <div class=""tarjeta__titulo-seccion"">
                                            Certificados
                                        </div>
                                        <div class=""tarjeta__seccion-content"">
");
#nullable restore
#line 1111 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                             if (archivo.Estado != "E")
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <div class=\"tipo-archivo\">\r\n                                                    <a class=\"tag-descarga\" target=\"_blank\"");
            BeginWriteAttribute("href", " href=\"", 66318, "\"", 66345, 1);
#nullable restore
#line 1114 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
WriteAttributeValue("", 66325, rutaDescargaArchivo, 66325, 20, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("><i class=\"fal fa-file-pdf\"></i> ");
#nullable restore
#line 1114 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                                                                                                   Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a>\r\n                                                </div>\r\n");
#nullable restore
#line 1116 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                            }
                                            else
                                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                <div class=\"tipo-archivo\">\r\n                                                    ");
#nullable restore
#line 1120 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                               Write(archivo.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                                </div>\r\n");
#nullable restore
#line 1122 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                            }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n");
#nullable restore
#line 1127 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </div>\r\n                </div>\r\n");
#nullable restore
#line 1130 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
            }

#line default
#line hidden
#nullable disable
            WriteLiteral("            <!-- end:: tarjeta Smartcheck -->\r\n        </div>\r\n\r\n\r\n    </div>\r\n    <!-- end:: Body Historial -->\r\n\r\n\r\n</div>\r\n<!-- end: WOW -->\r\n\r\n<script type=\"module\">\r\n        import { init } from \'../../js/Paciente/historial-custom.js?rnd=${");
#nullable restore
#line 1143 "D:\PRODUCTOBASE001-FULL\WebMVC\Views\Paciente\HistorialCustom.cshtml"
                                                                     Write(NumeroRandom.GetRandom());

#line default
#line hidden
#nullable disable
            WriteLiteral("}\';\r\n    init()\r\n</script>\r\n\r\n\r\n\r\n");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IConfiguration Configuration { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<WebMVC.Models.AtencionViewModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
