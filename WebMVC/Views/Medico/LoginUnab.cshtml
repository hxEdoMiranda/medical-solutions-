@model LoginViewModel

@{
    Layout = null;

}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    @*<title>@ViewData["Title"] - Medical</title>*@

    <base href="">
    <meta charset="utf-8" />
    <title>Medical | Sitio Médicos</title>
    <meta name="description" content="Latest updates and statistic charts">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- #region metronic-template -->
    <!--begin::Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700|Roboto:300,400,500,600,700">
    <!--end::Fonts -->

    <link href="~/metronic_demo7/assets/css/pages/login/login-3.css?rnd=@NumeroRandom.GetRandom()" rel="stylesheet" type="text/css" />

    <!--begin::Global Theme Styles(used by all pages) -->
    <link href="~/metronic_demo7/assets/plugins/global/plugins.bundle.css?rnd=@NumeroRandom.GetRandom()" rel="stylesheet" type="text/css" />
    <link href="~/metronic_demo7/assets/css/style.bundle.css?rnd=@NumeroRandom.GetRandom()" rel="stylesheet" type="text/css" />

    <link href="~/css/unab/unab.css?rnd=@NumeroRandom.GetRandom()" rel="stylesheet" type="text/css" />





    <!--end::Global Theme Styles -->
    <!-- #endregion -->
    <link rel="shortcut icon" href="~/metronic_demo7/assets/media/logos/logoFavicon.ico" />
    <script>
        (function(h, o, t, j, a, r) {
            h.hj = h.hj || function() { (h.hj.q = h.hj.q || []).push(arguments) };
            h._hjSettings = { hjid: 2677023, hjsv: 6 };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script'); r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>
</head>
<body class="kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-aside--enabled kt-aside--fixed kt-aside--minimize kt-page--loading">
    <!-- begin:: Page -->
   
        <div class="kt-grid kt-grid--hor kt-grid--root  kt-login kt-login--v3 kt-login--signin" id="kt_login">
            <div>
                <div class="">
                    <div class="">
                        <div class="login-container">
                           
                                <div class="login-box">
                                    <div class="header-login header-login-unab">
                                        <div class="cont-logos-login">
                                            <div class="logo">
                                                <img src="~/img/unab/logo-unab.svg" alt="" />
                                            </div>
                                            <div class="logo">
                                                <img src="~/img/unab/logo.svg" alt="" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="body-login">

                                                                 <div class="kt-login__signin">
                            <div class="kt-login__head">
                                <h1>Ingresa tus datos</h1>
                            </div>
                            <form class="kt-form" method="post" role="form">
                                <div class="form-group">
                                    <label class="d-block ms-label">Ingresa RUT</label>
                                    <input class="form-control" type="text" id="kt_rut" placeholder="RUT Ej: 12345678-9" autocomplete="off" asp-for="Username">
                                </div>
                                <div class="form-group">
                                    <label class="d-block ms-label">Clave</label>
                                    <input class="form-control" type="password" placeholder="Password" asp-for="Password">
                                </div>
                                <input hidden name="rol" value="@Roles.Medico" />
                                <input hidden name="returnUrl" value="@ViewData["ReturnUrl"]" />
                                <div class="row align-items-center">
                                    
                                    <div class="col">
                                        <a href="javascript:;" id="kt_login_forgot" class="kt-login__link">¿Olvidaste clave?</a>
                                    </div>
                                    <div class="col">
                                    @*<button type="submit" class="btn btn-default">Log in</button>*@
                                    <button id="kt_login_signin_submit" class="btn btn-primary btn-elevate kt-login__btn-primary btn-block mt-0 text-uppercase">Iniciar sesion</button>
                                </div>
                                </div>
                                
                            </form>

                        </div>
                        <div class="kt-login__forgot">
                            <div class="kt-login__head">
                                <h1>¿Olvidaste tu clave?</h1>
                                
                            </div>
                            <form class="kt-form" asp-controller="Account" asp-action="PageReset" method="post">
                                <div class="form-group">
                                    <label class="kt-login__desc ms-label">Ingresa tu Rut para reiniciar tu clave:</label>
                                    <input class="form-control" type="text" placeholder="Rut Ej: 12345678-9" id="kt_email" autocomplete="off" asp-for="Username">
                                    <input hidden name="rol" value="@Model.rol" />
                                </div>
                                <div class="kt-login__actions btn-toolbar">
                                    <div class="container p-0">
                                    <div class="row">
                                    <div class="col">
                                        <button id="kt_login_forgot_cancel" class="btn btn-light btn-elevate kt-login__btn-secondary btn-block mb-3 mb-md-0 text-uppercase">Cancelar</button>
                                        
                                    </div>
                                    <div class="col">
                                        <button id="kt_login_forgot_submit" class="btn btn-primary btn-elevate kt-login__btn-primary btn-block text-uppercase">Reiniciar clave</button>
                                    </div>
                                    </div>
                                    </div>
                                    
                                    
                                </div>
                            </form>
                        </div>

                        <div class="kt-reset__password">
                            <div class="kt-login__head">
                                <h3 class="kt-login__title">Ingresa tu nueva contraseña</h3>
                            </div>
                            <form class="kt-form" method="post" role="form">

                                <div class="input-group">
                                    <input class="form-control" type="password" placeholder="Password" asp-for="Password">
                                </div>
                                <div class="input-group">
                                    <input class="form-control" type="password" placeholder="Repetir Password" asp-for="RepeatPassword">
                                </div>
                                <input hidden name="rol" value="@Model.rol" />
                                <input hidden name="ActivationCode" value="@Model.ActivationCode" />
                                <input hidden name="username" value="@Model.Username" />
                                <input hidden name="returnUrl" value="@ViewData["ReturnUrl"]" />

                                <div class="kt-login__actions">
                                    @*<button type="submit" class="btn btn-default">Log in</button>*@
                                    <button id="kt_password_reset_submit" class="btn btn-brand btn-elevate kt-login__btn-primary">Modificar</button>
                                </div>
                            </form>
                        </div>

                                    </div>



                                </div>
                           
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- #region metronic-template -->


    <!-- begin::Global Config(global config for global JS sciprts) -->
    <script>
        var KTAppOptions = {
            "colors": {
                "state": {
                    "brand": "#22b9ff",
                    "light": "#ffffff",
                    "dark": "#282a3c",
                    "primary": "#5867dd",
                    "success": "#34bfa3",
                    "info": "#36a3f7",
                    "warning": "#ffb822",
                    "danger": "#fd3995"
                },
                "base": {
                    "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
                    "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
                }
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/gh/bigdatacloudapi/js-api-client@latest/bigdatacloud_api_client.min.js" type="text/javascript"></script>

    <script src="https://cdn.jsdelivr.net/gh/bigdatacloudapi/js-client-ip-client@latest/bigdatacloud_client_ip.min.js" type="text/javascript"></script>
    <!-- end::Global Config -->
    <!--begin::Global Theme Bundle(used by all pages) -->
    <script src="~/metronic_demo7/assets/plugins/global/plugins.bundle.js?rnd=@NumeroRandom.GetRandom()" type="text/javascript"></script>
    <script src="~/metronic_demo7/assets/js/scripts.bundle.js?rnd=@NumeroRandom.GetRandom()" type="text/javascript"></script>
    <script src="~/js/jquery.rut.js?rnd=@NumeroRandom.GetRandom()"></script>

    <script src="https://cdn.jsdelivr.net/gh/bigdatacloudapi/js-api-client@latest/bigdatacloud_api_client.min.js" type="text/javascript"></script>

    <script src="https://cdn.jsdelivr.net/gh/bigdatacloudapi/js-client-ip-client@latest/bigdatacloud_client_ip.min.js" type="text/javascript"></script>
    <!--end::Global Theme Bundle -->
    <!-- #endregion -->

    <script src="~/metronic_demo7/assets/js/pages/custom/login/login-general.js?rnd=@NumeroRandom.GetRandom()" type="text/javascript"></script>
    <script src="~/js/validator-messages-es.js?rnd=@NumeroRandom.GetRandom()"></script> <!-- traducción del validador -->

    <script>
        $(document).ready(function () {
            const formatRut = function (rut) {
                // Despejar Puntos
                let valor = rut.replace('.', '');
                // Despejar Guión
                valor = valor.replace('-', '');

                // Aislar Cuerpo y Dígito Verificador
                const cuerpo = valor.slice(0, -1);
                const dv = valor.slice(-1).toUpperCase();

                if (rut == '')
                    return '';

                // Formatear RUN
                rut = `${cuerpo}-${dv}`;
                return rut;
            }
            
            $("#kt_rut").keyup(function () {
                $(this).val(formatRut($(this).val())?.trim() ?? '');
            });
        });
    </script>
</body>
</html>